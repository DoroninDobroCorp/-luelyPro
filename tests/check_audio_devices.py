#!/usr/bin/env python3
"""
–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞—É–¥–∏–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞
"""
import sounddevice as sd

def main():
    print("\n" + "="*70)
    print("üîä –ü–†–û–í–ï–†–ö–ê –ê–£–î–ò–û –£–°–¢–†–û–ô–°–¢–í")
    print("="*70 + "\n")
    
    # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
    devices = sd.query_devices()
    
    # –¢–µ–∫—É—â–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    default_input = sd.default.device[0]
    default_output = sd.default.device[1]
    
    print(f"üì• –£–°–¢–†–û–ô–°–¢–í–û –í–í–û–î–ê –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ: {default_input}")
    print(f"üì§ –£–°–¢–†–û–ô–°–¢–í–û –í–´–í–û–î–ê –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ: {default_output}\n")
    
    print("="*70)
    print("–°–ü–ò–°–û–ö –í–°–ï–• –£–°–¢–†–û–ô–°–¢–í:")
    print("="*70 + "\n")
    
    for idx, device in enumerate(devices):
        marker = ""
        if idx == default_input:
            marker = " ‚Üê –í–•–û–î –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ"
        elif idx == default_output:
            marker = " ‚Üê –í–´–•–û–î –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ"
        
        device_type = []
        if device['max_input_channels'] > 0:
            device_type.append(f"–í–•–û–î ({device['max_input_channels']} –∫–∞–Ω–∞–ª–æ–≤)")
        if device['max_output_channels'] > 0:
            device_type.append(f"–í–´–•–û–î ({device['max_output_channels']} –∫–∞–Ω–∞–ª–æ–≤)")
        
        type_str = " | ".join(device_type)
        
        print(f"[{idx}] {device['name']}")
        print(f"    –¢–∏–ø: {type_str}{marker}")
        print(f"    Sample Rate: {device['default_samplerate']} Hz")
        print()
    
    print("="*70)
    print("\nüí° –°–û–í–ï–¢:")
    print("   –ï—Å–ª–∏ –Ω–∞—É—à–Ω–∏–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:")
    print("   1. –ù–∞—É—à–Ω–∏–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∏ –≤—ã–±—Ä–∞–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö")
    print("   2. macOS: –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ó–≤—É–∫ ‚Üí –í—ã—Ö–æ–¥ ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞—É—à–Ω–∏–∫–∏")
    print("   3. Windows: –ó–≤—É–∫ ‚Üí –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è ‚Üí –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é")
    print()
    print("   –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!")
    print("="*70 + "\n")

if __name__ == "__main__":
    main()
